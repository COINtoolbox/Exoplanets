exo_list[9]
exo_list[9]$system$star$planet$name
exo_list[9]$system$star$planet$name[1]
exo_list[9]$system$star$planet$name[2]
exo_list[9]$system$star$planet$name
exo_list[9]$system$star$planet
exo_list[9]
str(exo_list[9])
exo_list[9]$system$star$planet$name
exo_list[9]$system$star$planet$name[2]
exo_list[9]$system$star$planet$name[,]
exo_list[9]$system$star$planet$name[,1]
exo_list[9]$system$star$planet$name[1,]
str(exo_list[9]$system$star$planet$name)
str(exo_list[10]$system$star$planet$name)
str(exo_list[9]$system$star$planet$name)
str(exo_list[9]$system)
str(exo_list[9]$system$planet)
exo_list[9]$system$planet
exo_list[9]$system
exo_list[9]$system$planet
exo_list[9]$system$star$planet
str(exo_list[9]$system$star)
str(exo_list[9]$system$star$planet)
doc<-xmlParse("systems.xml")
exo_list<-xmlToList(doc)
str(exo_list[9]$system$star$planet)
str(exo_list[9]$system$star$)
str(exo_list[9]$system$star)
str(exo_list[9]$system$star[1])
str(exo_list[9]$system$star[2])
str(exo_list[9]$system$star[3])
str(exo_list[9]$system$star[20])
str(exo_list[9]$system$star[18])
str(exo_list[9]$system$star[15])
str(exo_list[9]$system$star[12])
str(exo_list[9]$system$star[11])
exo_list[9]$system$star[11]
exo_list[9]$system$star[11]$planet
exo_list[9]$system$star[11]$planet$name
exo_list[9]$system$star[12]$planet$name
exo_list[9]$system$star[["planet"]]
lapply(exo_list[9]$system$star,function(xl) xl$y)
exo_list[9]$system$star
laply(exo_list[[1]], identity)
require(plyr)
laply(exo_list[[1]], identity)
exo_list[[1]]
laply(exo_list[9]$system, identity)
laply(exo_list[9]$system$star, identity)
exo_list[9]$system$star
myNestedList <- list(A = list(`0` = c(`1` = 10, `2` = 20, `3` = 30, `4` = 72),
`1` = c(`1` = 15, `2` = 9, `3` = 7)),
B = list(`0` = c(A = 11, B = 12, C = 13),
`1` = c(X = 14, Y = 15, Z = 16)))
myNestedList
lapply(unlist(myNestedList, recursive = FALSE), `[`, 1)
sapply(unlist(myNestedList, recursive = FALSE), `[[`, 1)
sapply(unlist(myNestedList, recursive = FALSE), `[[`, 0)
sapply(unlist(myNestedList, recursive = FALSE), `[[`, 1)
sapply(unlist(exo_list[9], recursive = FALSE), `[[`, 1)
sapply(unlist(exo_list[9]$system$star, recursive = FALSE), `[[`, 1)
lapply(unlist(exo_list[9]$system$star, recursive = FALSE), `[[`, 1)
lapply(unlist(exo_list[9]$system$star, recursive = FALSE), `[[`, 1)$planet.name
lapply(unlist(exo_list[9]$system$star$planet.name, recursive = TRUE), `[[`, 1)
lapply(unlist(exo_list[9]$system$star$planet.name, recursive = FALSE), `[[`, 1)
rapply(exo_list[9]$system$star, f=`[[`, ...=1, how="unlist")
str(rapply(exo_list[9]$system$star, f=`[[`, ...=1, how="unlist"))
attr(exo_list[9]$system$star,"planet"
)
attr(exo_list[9]$system$star,"planet.name")
attr(exo_list[9]$system$star,"")
attr(exo_list[9]$system$star,"planet")
attr(exo_list[9]$system$star,planet)
attr(exo_list[9]$system$star)
attr(exo_list[9]$system$star,"")
attr(exo_list[9]$system$star,"")$value
attr(exo_list[9]$system$star,"planet")$value
attr(exo_list[9]$system$star,"planet")
attr(exo_list[9]$system$star,"")
names(attr(exo_list[9]$system$star,""))
which(attr(exo_list[9]$system$star,"")=="planet")
length(attr(exo_list[9]$system$star,"")=="planet")
length(which(attr(exo_list[9]$system$star,"")=="planet"))
for (i in 1:30){
print(length(which(attr(exo_list[9]$system$star,"")=="planet")))
}
for (i in 1:30){
print(length(which(attr(exo_list[i]$system$star,"")=="planet")))
}
exo_list[5]$system$star
exo_list[5]
for (i in 1:30){
print(length(which(attr(exo_list[i]$system,"")=="planet")))
}
attr(exo_list[i]$system,"")
for (i in 1:30){
print(length(which(attr(exo_list[i]$system$star,"")=="planet")))
}
for (i in 1:30){
print(length(which(attr(exo_list[i]$system$binary$star,"")=="planet")))
}
v1<-c()
for (i in 1:30){
v1[i]<-print(length(which(attr(exo_list[i]$system$star,"")=="planet")))
}
v1
v1<-c()
for (i in 1:30){
v1[i]<-length(which(attr(exo_list[i]$system$star,"")=="planet"))
}
v2<-c()
for (i in 1:30){
v2[i]<-length(which(attr(exo_list[i]$system$binary$star,"")=="planet"))
}
v1+v2
exo_list[9]$system
exo_list[19]$system
exo_list[17]$system
exo_list[16]$system
exo_list[15]$system
v1+v2
exo_list[15]$system
v1<-c()
for (i in 1:30){
v1[i]<-length(which(attr(exo_list[i]$system$star,"")=="planet"))
}
v2<-c()
for (i in 1:30){
v2[i]<-length(which(attr(exo_list[i]$system$binary$star,"")=="planet"))
}
v3<-c()
for (i in 1:30){
v3[i]<-length(which(attr(exo_list[i]$system$binary$binary$star,"")=="planet"))
}
v1+v2+v3
exo_list[15]$system$binary$binary$star
exo_list[15]$system$binary$binary
exo_list[15]$system$binary
which(attr(exo_list[i]$system$binary$star,"")=="planet")
which(attr(exo_list[15]$system$binary$star,"")=="planet")
attr(exo_list[15]$system$binary$star,"")
exo_list[15]$system$binary$star
exo_list[15]$system$binary
exo_list[15]$binary$star$planet
exo_list[15]$system$binary$star$planet
exo_list[15]$system$binary$star
exo_list[15]$system$binary
exo_list[15]$system$binary$binary
exo_list[15]$system$binary$binary$star
exo_list[15]$system$binary$binary$star$planet
exo_list[15]$system$binary$binary$star
exo_list[15]$system$binary$binary
exo_list[15]$system$binary
exo_list[15]$system$binary$binary$star$planet$name
exo_list[15]$binary$star$planet$name
exo_list[15]$system$$binary$star$planet$name
exo_list[15]$system$binary$star$planet$name
exo_list[15]$system$binary$binary$star$planet$name
exo_list[15]$system$binary$$binary$star$planet
exo_list[15]$system$binary$binary$star$planet
exo_list[15]$system$binary$star$planet
exo_list[15]$binary$star$planet
which(unlist(exo_list[15]$system$star,"")=="planet"))
which(unlist(exo_list[15]$system$star)=="planet"))
which(unlist(exo_list[15]$system$star)=="planet")
unlist(exo_list[15]$system$star)
exo_list[15]$system$star
exo_list[12]$system$star)
unlist(exo_list[12]$system$star)
which(unlist(exo_list[12]$system$star)=="planet")
which(unlist(exo_list[12]$system$star)=="planet.name")
hich(unlist(exo_list[1]$system$star)=="planet.name")
which(unlist(exo_list[1]$system$star)=="planet.name")
unlist(exo_list[1]$system$star)
unlist(exo_list[1]$system$star)$planet.name
unlist(exo_list[1]$system$star)
unlist(exo_list[1]$system$star)=="planet.name"
str(unlist(exo_list[1]$system$star))
which(attr(unlist(exo_list[1]$system$star),"")=="planet.name")
which(attr(unlist(exo_list[1]$system),"")=="planet.name")
unlist(exo_list[1]$system)
which(attr(unlist(exo_list[1]$system),"")=="planet.name")
require(XML)
require(plyr)
fileName <- system.file("exampleData", "systems.xml", package="XML")
xmlTreeParse(fileName)
doc<-xmlParse("systems.xml")
exo_list<-xmlToList(doc)
which(attr(unlist(exo_list[1]$system),"")=="planet.name")
which(attr(unlist(exo_list[1]$system),"")==c("star.planet.name","planet.name"))
attr(unlist(exo_list[1]$system),"")
which(attr(unlist(exo_list[1]$system),"")=="star.planet.name" || unlist(exo_list[1]$system),"")=="star.planet.name"=="planet.name"))
which(attr(unlist(exo_list[1]$system),"")=="star.planet.name" || unlist(exo_list[1]$system),"")=="planet.name"))
which(attr(unlist(exo_list[1]$system),"")=="star.planet.name" || attr(unlist(exo_list[1]$system),"")=="planet.name"))
which(attr(unlist(exo_list[1]$system),"")=="star.planet.name" || attr(unlist(exo_list[1]$system),"")=="planet.name")
which(attr(unlist(exo_list[1]$system),"")=="star.planet.name")
which(attr(unlist(exo_list[1]$system),"")=="star.planet.name" | attr(unlist(exo_list[1]$system),"")=="planet.name"
)
which(attr(unlist(exo_list[15]$system),"")=="star.planet.name" | attr(unlist(exo_list[1]$system),"")=="planet.name")
exo_list[15]$system
which(attr(unlist(exo_list[15]$system),"")=="star.planet.name" | attr(unlist(exo_list[15]$system),"")=="planet.name")
unlist(exo_list[15]$system)
v1<-c()
for (i in 1:30){
v1[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.name" | attr(unlist(exo_list[i]$system),"")=="binary.binary.star.planet.name",
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.name"))
}
v1
exo_list[5]$system
unlist(exo_list[5]$system)
v1
attr(unlist(exo_list[5]$system),"")
v1<-c()
for (i in 1:30){
v1[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.name" | attr(unlist(exo_list[i]$system),"")=="binary.binary.star.planet.name"|
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.name"))
}
v1
require(XML)
require(plyr)
#fileName <- system.file("exampleData", "systems.xml", package="XML")
#xmlTreeParse(fileName)
doc<-xmlParse("systems.xml")
doc
exo_list<-xmlToList(doc)
v1<-c()
for (i in 1:30){
v1[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.name" | attr(unlist(exo_list[i]$system),"")=="binary.binary.star.planet.name"|
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.name"))
}
v1
t(v1)
as.data.frame(v1)
v2<-c()
for (i in 1:30){
v2[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.name" |
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.name"))
}
as.data.frame(v1,v2)
as.data.frame(v2)
exo_list[5]$system
exo_list[1]$system
dim(exo_list)
dim(exo_list[1])
exo_list[1]
exo_list[]
dim(exo_list[])
exo_list$system
N_p<-c()
for (i in 1:1228){
N_p[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.name" | attr(unlist(exo_list[i]$system),"")=="binary.binary.star.planet.name"|
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.name"))
}
N_p
N_p<-c()
for (i in 1:1210){
N_p[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.name" | attr(unlist(exo_list[i]$system),"")=="binary.binary.star.planet.name"|
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.name"))
}
N_p
hist(N_p)
N_p<-c()
for (i in 1:1210){
N_p[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.mass" | attr(unlist(exo_list[i]$system),"")=="binary.binary.star.planet.mass"|
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.mass"))
}
N_p
exo_list[1]$system$
exo_list[1]$system
exo_list[1]$system
N_p<-c()
for (i in 1:1210){
N_p[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.period" | attr(unlist(exo_list[i]$system),"")=="binary.binary.star.planet.period"|
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.period"))
}
N_p
exo_list[7]$system
N_p<-c()
for (i in 1:1210){
N_p[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.discoverymethod" | attr(unlist(exo_list[i]$system),"")=="binary.binary.star.planet.discoverymethod"|
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.discoverymethod"))
}
N_p
doc<-xmlParse("systems.xml")
exo_list<-xmlToList(doc)
xmlParse("https://github.com/OpenExoplanetCatalogue/oec_gzip/raw/master/systems.xml")
N_p<-c()
for (i in 1:1228){
N_p[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.discoverymethod" | attr(unlist(exo_list[i]$system),"")=="binary.binary.star.planet.discoverymethod"|
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.discoverymethod"))
}
N_p
fileName <- "https://github.com/OpenExoplanetCatalogue/oec_gzip/raw/master/systems.xml.gz"
con1 <- unz(fileName)
temp<-tempfile()
download.file("https://github.com/OpenExoplanetCatalogue/oec_gzip/raw/master/systems.xml.gz")
con1 <- unz(temp)
con1 <- unz(temp,"systems.xml")
doc<-xmlParse(con1)
unz(temp,"systems2.xml")
setwd("~/Dropbox/artigos/Meusartigos/IAA-WGC/Github/exoplanets")
temp<-tempfile()
download.file("https://github.com/OpenExoplanetCatalogue/oec_gzip/raw/master/systems.xml.gz")
con1 <- unzip(temp,"systems2.xml")
temp<-tempfile()
download.file("https://github.com/OpenExoplanetCatalogue/oec_gzip/raw/master/systems.xml.gz",temp)
N_p<-c()
for (i in 1:1228){
N_p[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.discoverymethod" | attr(unlist(exo_list[i]$system),"")=="binary.binary.star.planet.discoverymethod"|
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.discoverymethod"))
}
require(XML)
require(plyr)
#fileName <- system.file("exampleData", "systems.xml", package="XML")
#xmlTreeParse(fileName)
doc<-xmlParse("systems.xml")
exo_list<-xmlToList(doc)
# Finally, get the data in a data-frame and have a look at the first rows and columns
N_p<-c()
for (i in 1:1228){
N_p[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.discoverymethod" | attr(unlist(exo_list[i]$system),"")=="binary.binary.star.planet.discoverymethod"|
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.discoverymethod"))
}
N_p
exo_list[80]$system
N_p<-c()
for (i in 1:1228){
N_p[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.discoverymethod" | attr(unlist(exo_list[i]$system),"")=="binary.binary.star.planet.discoverymethod"|
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.discoverymethod")| attr(unlist(exo_list[i]$system),"")=="binary.planet.discoverymethod"))
}
N_p<-c()
for (i in 1:1228){
N_p[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.discoverymethod" | attr(unlist(exo_list[i]$system),"")=="binary.binary.star.planet.discoverymethod"|
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.discoverymethod" | attr(unlist(exo_list[i]$system),"")=="binary.planet.discoverymethod"))
}
N_p
exo_list[1102]$system
N_p<-c()
for (i in 1:1228){
N_p[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.discoveryyear" | attr(unlist(exo_list[i]$system),"")=="binary.binary.star.planet.discoveryyear"|
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.discoveryyear" | attr(unlist(exo_list[i]$system),"")=="binary.planet.discoveryyear"))
}
N_p
which(N_p==0)
exo_list[48]$system
N_p<-c()
for (i in 1:1228){
N_p[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.discoveryyear" | attr(unlist(exo_list[i]$system),"")=="binary.binary.star.planet.discoveryyear"|
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.discoveryyear" | attr(unlist(exo_list[i]$system),"")=="binary.planet.discoveryyear"
| attr(unlist(exo_list[i]$system),"")=="planet.discoveryyear"))
}
N_p
which(N_p==0)
exo_list[273]$system
N_p<-c()
for (i in 1:1228){
N_p[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.discoverymethod" | attr(unlist(exo_list[i]$system),"")=="binary.binary.star.planet.discoverymethod"|
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.discoverymethod" | attr(unlist(exo_list[i]$system),"")=="binary.planet.discoverymethod"
| attr(unlist(exo_list[i]$system),"")=="planet.discoverymethod"))
}
N_p
which(N_p==0)
exo_list[574]$system
N_p<-c()
for (i in 1:1228){
N_p[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.discoverymethod" | attr(unlist(exo_list[i]$system),"")=="binary.binary.star.planet.discoverymethod"|
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.discoverymethod" | attr(unlist(exo_list[i]$system),"")=="binary.planet.discoverymethod"
| attr(unlist(exo_list[i]$system),"")=="planet.discoverymethod"|
attr(unlist(exo_list[i]$system),"")=="binary.binary.planet.discoverymethod"))
}
N_p
which(N_p==0)
exo_list[1101]$system
N_p<-c()
for (i in 1:1228){
N_p[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.discoverymethod" | attr(unlist(exo_list[i]$system),"")=="binary.binary.star.planet.discoverymethod"|
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.discoverymethod" | attr(unlist(exo_list[i]$system),"")=="binary.planet.discoverymethod"|
attr(unlist(exo_list[i]$system),"")=="planet.discoverymethod"|
attr(unlist(exo_list[i]$system),"")=="binary.binary.planet.discoverymethod"))
}
which(N_p==0)
exo_list[1102]$system
exo_list[1]$system$name
exo_list[1102]$system$name
exo_list[]$system$name
exo_list[1:3]$system$name
exo_list[c(1,2)]$system$name
exo_list[,1:3]$system$name
exo_list[2]$system$name
exo_list[[1]]$system$name
for (i in 1:1228){
systemnames[i]<-exo_list[i]$system$name
}
systemnames<-c()
for (i in 1:1228){
systemnames[i]<-exo_list[i]$system$name
}
systemnames
exo_list[1]$system
exo_cat<-matrix(nrow=1128,ncol=5)
exo_cat
exo_cat[1,2]
exo_cat[1,]
exo_list[1]$system
for (i in 1:1228){
exo_cat[i,1]<-exo_list[i]$system$name
exo_cat[i,2]<-exo_list[i]$system$star$metallicity
exo_cat[i,3]<-exo_list[i]$system$star$mass
exo_cat[i,4]<-exo_list[i]$system$star$temperature
}
exo_list[1]$system$star$metallicity
exo_list[2]$system$star$metallicity
exo_list[5]$system$star$metallicity
exo_list[10]$system$star$metallicity
exo_list[100]$system$star$metallicity
exo_list[1000]$system$star$metallicity
exo_list[60]$system$star$metallicity
xmlToDataFrame(
getNodeSet(doc, "//metallicity")
)
xmlToDataFrame(
getNodeSet(doc, "//system/name")
)
doc<-xmlParse("systems.xml")
xmlToDataFrame(
getNodeSet(doc, "//system/name")
)
systemnames
a1<-xmlToDataFrame(
getNodeSet(doc, "//system/name")
)
a1[1]
a1[1][1]
a1[[1]]
a1[[1]][1]
a1[[1]][10]
systemnames[10]
a1[[1]][100]
systemnames[100]
systemnames[1227]
a1[[1]][1227]
a1[[1]][1228]
a1[[1]][1229]
a1[[1]][1]
a1[[1]][1600]
a1
unlist(a1)
getNodeSet(doc, "//system/name")
getNodeSet(doc, "/system/name")
getNodeSet(doc, "//system/name")
getNodeSet(doc, "//system/star")
getNodeSet(doc, "//system/star/mass")
getNodeSet(doc, "//system/star/planet")
getNodeSet(doc, "//system/star/temperature")
getNodeSet(doc, "//system:name")
doc<-xmlTreeParse("systems.xml")
getNodeSet(doc, "//system/name")
exo_list<-xmlToList(doc)
getNodeSet(doc, "//system/name")
getNodeSet(doc, "//system/")
exo_list[1]$system$name
exo_list[10]$system$name
exo_cat<-matrix(nrow=1128,ncol=5)
for (i in 1:1228){
exo_cat[i,1]<-exo_list[i]$system$name
exo_cat[i,2]<-exo_list[i]$system$star$metallicity
exo_cat[i,3]<-exo_list[i]$system$star$mass
exo_cat[i,4]<-exo_list[i]$system$star$temperature
}
doc<-xmlParse("systems.xml")
getNodeSet(doc, "//system/star")
getNodeSet(doc, "//system/star/name")
a1<-xmlToDataFrame(
getNodeSet(doc, "//system/star/name")
)
a1
a1<-xmlToDataFrame(
getNodeSet(doc, "//system/star/mass")
)
a1<-xmlToDataFrame(
getNodeSet(doc, "//system")
)
a1<-xmlToDataFrame(
getNodeSet(doc, "//system/")
)
doc<-xmlParse("systems.xml",useInternalNodes = TRUE)
doc
do.call(rbind, xpathApply(doc, "/system", function(node) {
name <- xmlValue(node[["name"]])
temperature<- xmlValue(node[["temperature"]])
if (is.null( temperature))  temperature <- NA
data.frame(name, temperature, stringsAsFactors = FALSE)
}))
doc
getNodeSet(doc, "//system/")
exo_list<-xmlToList(doc)
N_p<-c()
for (i in 1:1228){
N_p[i]<-length(which(attr(unlist(exo_list[i]$system),"")=="star.planet.discoverymethod" | attr(unlist(exo_list[i]$system),"")=="binary.binary.star.planet.discoverymethod"|
attr(unlist(exo_list[i]$system),"")=="binary.star.planet.discoverymethod" | attr(unlist(exo_list[i]$system),"")=="binary.planet.discoverymethod"|
attr(unlist(exo_list[i]$system),"")=="planet.discoverymethod"|
attr(unlist(exo_list[i]$system),"")=="binary.binary.planet.discoverymethod"))
}
N_p
ldply(xmlToList(doc), function(x) { data.frame(x[!names(x)=="system"]) } )
ldply(xmlToList(doc), function(x) { data.frame(x[!names(x)=="name"]) } )
names(exo_list)
exo_list<-xmlToList(doc)
names(exo_list)
names(exo_list[1]$system)
names(exo_list[1]$system$star)
